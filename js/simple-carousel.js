class Carousel{id;carousel;parent;children;ui;slider;dots;activeItemIndex;autoplay;cooldown=!1;config={width:"100%",height:"100vh",navigation_mode:0,backdrop_opacity:0,autoplay:!0,autoplay_delay:4e3,press_cooldown:!0};constructor(t,s=this.config){try{let i=document.querySelector(`#${t}`),e=document.querySelectorAll(`#${t} > *`),o="";e.forEach(t=>{o+=`<div class="carousel-item">${t.outerHTML}</div>`});let a=`<div class="carousel-ui"><div class="navigation"><span class="slider slide-backward"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M579-480 285-774q-15-15-14.5-35.5T286-845q15-15 35.5-15t35.5 15l307 308q12 12 18 27t6 30q0 15-6 30t-18 27L356-115q-15 15-35 14.5T286-116q-15-15-15-35.5t15-35.5l293-293Z"/></svg></span><div class="dots"></div><span class="slider slide-forward"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M579-480 285-774q-15-15-14.5-35.5T286-845q15-15 35.5-15t35.5 15l307 308q12 12 18 27t6 30q0 15-6 30t-18 27L356-115q-15 15-35 14.5T286-116q-15-15-15-35.5t15-35.5l293-293Z"/></svg></span></div></div><div class="carousel-content">${o}</div>`;i.innerHTML=a,i.classList.add("carousel"),this.id=t,this.config={...this.config,...s},this.init()}catch(l){console.error(l)}}init(){this.carousel=document.getElementById(this.id),this.parent=document.querySelector(`#${this.id} .carousel-content`),this.children=document.querySelectorAll(`#${this.id} .carousel-item`),this.ui=document.querySelector(`#${this.id} .carousel-ui`),this.slider=document.querySelectorAll(`#${this.id} .slider`),this.dots=document.querySelector(`#${this.id} .carousel-ui .dots`),this.activeItemIndex=0,this.slider.forEach(t=>{t.addEventListener("click",()=>{this.refreshCooldown()&&(t.classList.contains("slide-backward")?this.scrollToIndex(this.activeItemIndex-1):t.classList.contains("slide-forward")&&this.scrollToIndex(this.activeItemIndex+1))})});for(let t=0;t<this.children.length;t++)this.dots.innerHTML+=`<span data-index="${t}"></span>`;switch(this.dots=this.dots.querySelectorAll(".dots > *"),this.updateActiveDot(this.activeItemIndex),this.dots.forEach(t=>{t.addEventListener("click",s=>{this.refreshCooldown()&&!t.classList.contains("active")&&this.scrollToIndex(parseInt(t.dataset.index))})}),this.config.navigation_mode){case 1:this.ui.classList.add("mode-1");break;case 2:this.ui.classList.add("mode-2");break;case 3:this.ui.classList.add("mode-3");break;case 4:this.ui.classList.add("mode-4");break;case 5:this.ui.classList.add("mode-5"),this.config.autoplay=!0}this.carousel.style.width=this.config.width,this.carousel.style.height=this.config.height,this.ui.style.backgroundColor=`rgba(0, 0, 0, ${this.config.backdrop_opacity})`,this.config.autoplay&&this.refreshAutoplay()}refreshCooldown(){return!this.config.press_cooldown||!this.cooldown&&(this.cooldown=!0,setTimeout(()=>{this.cooldown=!1},500),!0)}scrollToIndex(t){let s=this.children.length-1;t<0?this.activeItemIndex=s:t>s?this.activeItemIndex=0:this.activeItemIndex=t;let i=this.parent.getBoundingClientRect().width*this.activeItemIndex;this.parent.scrollTo(i,0),this.config.autoplay&&this.refreshAutoplay(),this.updateActiveDot(this.activeItemIndex)}refreshAutoplay(){clearInterval(this.autoplay),this.autoplay=setInterval(()=>{this.scrollToIndex(this.activeItemIndex+1)},this.config.autoplay_delay)}updateActiveDot(t){this.dots.forEach(t=>{t.classList.remove("active")}),this.dots[t].classList.add("active")}}